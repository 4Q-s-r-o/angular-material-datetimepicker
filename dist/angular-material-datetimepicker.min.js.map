{"version":3,"sources":["angular-material-datetimepicker.js"],"names":["moduleName","VIEW_STATES","DATE","HOUR","MINUTE","css","el","name","window","jQuery","angular","element","getComputedStyle","template","module","provider","this","locale","$get","setDefaultLocale","localeString","factory","mdcDatetimePickerDefaultLocale","default_params","date","time","format","minDate","maxDate","currentDate","lang","weekStart","shortTime","cancelText","okText","amText","pmText","todayText","disableDates","directive","$mdDialog","$timeout","restrict","require","scope","ngChange","showTodaysDate","link","attrs","ngModel","isOn","dateOfTheDay","undefined","moment","isString","$formatters","push","value","m","isValid","attr","on","e","preventDefault","blur","options","i","hasOwnProperty","isUndefined","locals","show","controller","PluginController","controllerAs","openFrom","parent","document","body","bindToController","disableParentScroll","hasBackDrop","skipHide","then","v","_d","isSame","$q","mdcDefaultParams","accepted_options","service","deferred","defer","params","indexOf","clickOutsideToClose","resolve","reject","promise","$scope","mdcDatetimePicker","currentView","_dialog","_attachedEvents","VIEWS","meridien","extend","init","$inject","prototype","timeMode","dateMode","initDates","start","currentNearest5Minute","minutes","Math","round","minute","that","_dateParam","input","fallback","ret","isDefined","isDate","x","getTime","_isAMomentObject","map","selectDate","initDate","d","initHours","initMinutes","isAfterMinDate","checkHour","checkMinute","_return","_minDate","_date","hour","second","millisecond","parseInt","isBeforeMaxDate","checkTime","_maxDate","isInDisableDates","dut","calendarStart","setName","text","possible","charAt","floor","random","length","isPM","incrementYear","amount","isNextYearVisible","add","isPreviousYearVisible","isPreviousMonthVisible","startOf","isNextMonthVisible","endOf","isHourAvailable","convertHours","isMinuteAvailable","today","Date","now","ok","hide","cancel","selectMonthBefore","subtract","selectMonthAfter","selectYearBefore","selectYearAfter","selectAM","selectPM","h","okBtn","YEAR_MIN","YEAR_MAX","getFullYear","MONTHS_IN_ALL","ITEM_HEIGHT","MONTHS","currentMonthIndex","low","year","month","picker","$onInit","calendar","days","toString","week","high","months","slice","getItemAtIndex","index","monthObj","generateMonthCalendar","topIndex","$watch","val2","val1","nDate","startOfMonth","iNumDay","daysInMonth","iWeek","daysInAWeek","daysTmp","slices","ceil","j","toDay","substring","isInRange","isSelectedDay","isDateOfTheDay","$compile","buildCalendarContent","tbody","querySelector","cal","tbodyHtml","forEach","weekDays","weekDay","scopeRef","html","join","idx","oldIdx","minuteMode","mode","componentRoot","exec","clock","pickerEl","w","offsetWidth","pl","replace","pr","ml","mr","clockWidth","pL","pT","mL","mT","r","points","sin","PI","y","cos","left","top","style","margin-left","margin-top","display","setCurrentValue","clockCenter","centerWidth","centerHeight","offsetHeight","_hL","_mL","height","marginTop","addClass","animateHands","rotateElement","mdg","deg","WebkitTransform","-moz-transform","-ms-transform","transform","currentValue","tmp","newVal","setDisplayPoints","copy","setTime","val","pointAvailable","point","unWatcher","querySelectorAll"],"mappings":"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","file":"angular-material-datetimepicker.min.js","sourcesContent":["(function () {\n  'use strict';\n  var moduleName = \"ngMaterialDatePicker\";\n\n  var VIEW_STATES = {\n    DATE: 0,\n    HOUR: 1,\n    MINUTE: 2\n  };\n\n  var css = function (el, name) {\n    if ('jQuery' in window) {\n      return jQuery(el).css(name);\n    } else {\n      el = angular.element(el);\n      return ('getComputedStyle' in window) ? window.getComputedStyle(el[0])[name] : el.css(name);\n    }\n  };\n\n  var template = '<md-dialog class=\"dtp\" layout=\"column\" style=\"width: 300px;\">'\n    + '    <md-dialog-content class=\"dtp-content\">'\n    + '        <div class=\"dtp-date-view\">'\n    + '            <header class=\"dtp-header\">'\n    + '                <div class=\"dtp-actual-day\" ng-show=\"picker.dateMode\">{{picker.currentDate.format(\"dddd\")}}</div>'\n    + '                <div class=\"dtp-actual-day\" ng-show=\"picker.timeMode\">{{picker.params.shortTime ? picker.currentDate.format(\"A\") : \" \"}}</div>'\n    + '                <div class=\"dtp-close text-right\">'\n    + '                    <a href=\"#\" mdc-dtp-noclick ng-click=\"picker.hide()\">&times;</a>'\n    + '                </div>'\n    + '            </header>'\n    + '            <div class=\"dtp-date\" ng-show=\"picker.params.date\">'\n    + '                <div layout=\"column\">'\n    + '                    <div class=\"dtp-actual-month\">{{picker.currentDate.format(\"MMM\") | uppercase}}</div>'\n    + '                </div>'\n    + '                <div class=\"dtp-actual-num\">{{picker.currentDate.format(\"DD\")}}</div>'\n    + '                <div layout=\"row\">'\n    + ' <div ng-click=\"picker.incrementYear(-1)\" class=\"dtp-year-btn dtp-year-btn-prev\" flex=\"30\"><span ng-if=\"picker.isPreviousYearVisible()\" >&#x25B2;</span></div>'\n    + '                    <div class=\"dtp-actual-year\" flex>{{picker.currentDate.format(\"YYYY\")}}</div>'\n    + ' <div ng-click=\"picker.incrementYear(1)\" class=\"dtp-year-btn dtp-year-btn-next\" flex=\"30\"><span ng-if=\"picker.isNextYearVisible()\" >&#x25BC;</span></div>'\n    + '                </div>'\n    + '            </div>'//start time\n    + '            <div class=\"dtp-time\" ng-show=\"picker.params.time && !picker.params.date\">'\n    + '                <div class=\"dtp-actual-maxtime\">{{picker.currentNearest5Minute().format(picker.params.shortTime ? \"hh:mm\" : \"HH:mm\")}}</div>'\n    + '            </div>'\n    + '            <div class=\"dtp-picker\">'\n    + '                <mdc-datetime-picker-calendar date=\"picker.currentDate\" picker=\"picker\" class=\"dtp-picker-calendar\" ng-show=\"picker.currentView === picker.VIEWS.DATE\"></mdc-datetime-picker-calendar>'\n    + '                <div class=\"dtp-picker-datetime\" ng-cloak ng-if=\"picker.currentView !== picker.VIEWS.DATE\">'\n    + '                    <div class=\"dtp-actual-meridien\">'\n    + '                        <div class=\"left p20\">'\n    + '                            <a href=\"#\" mdc-dtp-noclick class=\"dtp-meridien-am\" ng-class=\"{selected: picker.meridien == \\'AM\\'}\" ng-click=\"picker.selectAM()\">{{picker.params.amText}}</a>'\n    + '                        </div>'\n    + '                        <div ng-show=\"!picker.timeMode\" class=\"dtp-actual-time p60\">{{picker.currentNearest5Minute().format(picker.params.shortTime ? \"hh:mm\" : \"HH:mm\")}}</div>'\n    + '                        <div class=\"right p20\">'\n    + '                            <a href=\"#\" mdc-dtp-noclick class=\"dtp-meridien-pm\" ng-class=\"{selected: picker.meridien == \\'PM\\'}\" ng-click=\"picker.selectPM()\">{{picker.params.pmText}}</a>'\n    + '                        </div>'\n    + '                        <div class=\"clearfix\"></div>'\n    + '                    </div>'\n    + '                    <mdc-datetime-picker-clock mode=\"hours\" ng-if=\"picker.currentView === picker.VIEWS.HOUR\"></mdc-datetime-picker-clock>'\n    + '                    <mdc-datetime-picker-clock mode=\"minutes\" ng-if=\"picker.currentView === picker.VIEWS.MINUTE\"></mdc-datetime-picker-clock>'\n    + '                </div>'\n    + '            </div>'\n    + '        </div>'\n    + '    </md-dialog-content>'\n    + '    <md-dialog-actions class=\"dtp-buttons\">'\n    + '            <md-button class=\"dtp-btn-ok md-button\" ng-click=\"picker.today()\"> {{picker.params.todayText}}</md-button>'\n    + '            <md-button class=\"dtp-btn-cancel md-button\" ng-click=\"picker.cancel()\"> {{picker.params.cancelText}}</md-button>'\n    + '            <md-button class=\"dtp-btn-ok md-button\" ng-click=\"picker.ok()\"> {{picker.params.okText}}</md-button>'\n    + '      </md-dialog-actions>'\n    + '</md-dialog>';\n\n\n  angular.module(moduleName, ['material.components.dialog'])\n    .provider('mdcDatetimePicker', function () {\n      this.locale = 'en';\n\n      this.$get = function () {\n        return this;\n      };\n\n      this.setDefaultLocale = function (localeString) {\n        this.locale = localeString;\n      };\n    })\n    .factory('mdcDefaultParams', ['mdcDatetimePickerDefaultLocale', function (mdcDatetimePickerDefaultLocale) {\n      var default_params = {\n        date: true,\n        time: true,\n        format: 'YYYY-MM-DD',\n        minDate: null,\n        maxDate: null,\n        currentDate: null,\n        lang: mdcDatetimePickerDefaultLocale,\n        weekStart: 0,\n        shortTime: false,\n        cancelText: 'Cancel',\n        okText: 'OK',\n        amText: 'AM',\n        pmText: 'PM',\n        todayText: 'Today',\n        disableDates: []\n      };\n      return default_params;\n    }])\n    .directive('mdcDatetimePicker', ['$mdDialog', '$timeout',\n      function ($mdDialog, $timeout) {\n\n        return {\n          restrict: 'A',\n          require: 'ngModel',\n          scope: {\n            currentDate: '=ngModel',\n            ngChange: '&',\n            time: '=',\n            date: '=',\n            minDate: '=',\n            maxDate: '=',\n            disableDates: '=',\n            weekStart: '=',\n            shortTime: '=',\n            weekStart: '=',\n            format: '@',\n            cancelText: '@',\n            okText: '@',\n            lang: '@',\n            amText: '@',\n            pmText: '@',\n            showTodaysDate: '@',\n            todayText: '@',\n          },\n          link: function (scope, element, attrs, ngModel) {\n            var isOn = false;\n            if (!scope.format) {\n              if (scope.date && scope.time) {\n                scope.format = 'YYYY-MM-DD HH:mm';\n              } else if (scope.date) {\n                scope.format = 'YYYY-MM-DD';\n              } else {\n                scope.format = 'HH:mm';\n              }\n            }\n\n            var dateOfTheDay = null;\n            if (scope.showTodaysDate !== undefined && scope.showTodaysDate !== \"false\")\n              dateOfTheDay = moment();\n\n            if (angular.isString(scope.currentDate) && scope.currentDate !== '') {\n              scope.currentDate = moment(scope.currentDate, scope.format);\n            }\n\n            if (ngModel) {\n              ngModel.$formatters.push(function (value) {\n                if (typeof value === 'undefined') {\n                  return;\n                }\n                var m = moment(value);\n                return m.isValid() ? m.format(scope.format) : '';\n              });\n            }\n\n            element.attr('readonly', '');\n            //@TODO custom event to trigger input\n            element.on('focus', function (e) {\n              e.preventDefault();\n              element.blur();\n              if (isOn) {\n                return;\n              }\n              isOn = true;\n              var options = {};\n              for (var i in attrs) {\n                if (scope.hasOwnProperty(i) && !angular.isUndefined(scope[i])) {\n                  options[i] = scope[i];\n                }\n              }\n              options.currentDate = scope.currentDate;\n              options.showTodaysDate = dateOfTheDay;\n\n              var locals = {options: options};\n              $mdDialog.show({\n                template: template,\n                controller: PluginController,\n                controllerAs: 'picker',\n                locals: locals,\n                openFrom: element,\n                parent: angular.element(document.body),\n                bindToController: true,\n                disableParentScroll: false,\n                hasBackDrop: false,\n                skipHide: true\n              })\n                .then(function (v) {\n                  scope.currentDate = v ? v._d : v;\n                  isOn = false;\n\n                  if (!moment(scope.currentDate).isSame(options.currentDate)) {\n                    $timeout(scope.ngChange, 0);\n                  }\n\n                  element.blur()\n\n                }, function () {\n                  isOn = false;\n                  element.blur()\n                })\n              ;\n            });\n          }\n        };\n      }])\n    /** Returns a service that opens a dialog when the attribute shown is called\n     The dialog serves to select a date/time/etc. depending on the options given to the function show\n\n     @param options extends mdcDefaultParams\n     {\n       date: {boolean} =true,\n         time: {boolean] =true,\n         format: {string} ='YYYY-MM-DD',\n         minDate: {strign} =null,\n         maxDate: {string} =null,\n         currentDate: {string} =null,\n         lang: {string} =mdcDatetimePickerDefaultLocale,\n         weekStart: {int} =0,\n         shortTime: {boolean} =false,\n         cancelText: {string} ='Cancel',\n         todayText: {string} ='Today',\n         okText: {string} ='OK',\n         amText: {string} ='AM',\n         pmText: {string} ='PM'\n     }\n   @return promise\n    */\n    .factory('dateTimeDialog', [\"$mdDialog\", \"$q\", \"mdcDefaultParams\", function ($mdDialog, $q, mdcDefaultParams) {\n      var accepted_options = ['time', 'date', 'minDate', 'maxDate', 'shortTime', 'format', 'cancelText', 'todayText', 'okText', 'lang', 'amText', 'pmText']\n\n      var service = {\n        show: function (options) {\n          var deferred = $q.defer();\n          var params = mdcDefaultParams;\n          for (var i in options) {\n            if (accepted_options.indexOf[i] != -1) {\n              params = options[i];\n            }\n          }\n          var locals = {options: options};\n          $mdDialog.show({\n            template: template,\n            controller: PluginController,\n            controllerAs: 'picker',\n            locals: locals,\n            parent: angular.element(document.body),\n            bindToController: true,\n            clickOutsideToClose: true,\n            disableParentScroll: false\n          })\n            .then(function (v) {\n              var currentDate = v ? v._d : v;\n              deferred.resolve(v ? v._d : v);\n              //isOn = false;\n            }, function () {\n              deferred.reject();\n              //isOn = false;\n            })\n          return deferred.promise;\n        }\n      }\n      return service;\n\n    }])\n  ;\n\n  var PluginController = function ($scope, $mdDialog, mdcDatetimePicker, mdcDefaultParams) {\n    this.currentView = VIEW_STATES.DATE;\n    this._dialog = $mdDialog;\n\n    this.minDate;\n    this.maxDate;\n    this.disableDates;\n\n    this._attachedEvents = [];\n    this.VIEWS = VIEW_STATES;\n    this.params = mdcDefaultParams\n    this.meridien = 'AM';\n    this.params = angular.extend(this.params, this.options);\n    this.init();\n  };\n  PluginController.$inject = ['$scope', '$mdDialog', 'mdcDatetimePicker', 'mdcDefaultParams'];\n  PluginController.prototype = {\n    init: function () {\n      this.timeMode = this.params.time && !this.params.date;\n      this.dateMode = this.params.date;\n      this.initDates();\n      this.start();\n    },\n    currentNearest5Minute: function () {\n      var date = this.currentDate || moment();\n      var minutes = (5 * Math.round(date.minute() / 5));\n      if (minutes >= 60) {\n        minutes = 55; //always push down\n      }\n      return moment(date).minutes(minutes);\n    },\n    initDates: function () {\n      var that = this;\n      var _dateParam = function (input, fallback) {\n        var ret = null;\n        if (angular.isDefined(input) && input !== null && input !== '') {\n          if (angular.isString(input)) {\n            if (typeof(that.params.format) !== 'undefined' && that.params.format !== null) {\n              ret = moment(input, that.params.format).locale(that.params.lang);\n            }\n            else {\n              ret = moment(input).locale(that.params.lang);\n            }\n          } else if (typeof input === 'number') {\n            ret = moment(input).locale(that.params.lang);\n          } else {\n            if (angular.isDate(input)) {\n              var x = input.getTime();\n              ret = moment(x, \"x\").locale(that.params.lang);\n            } else if (input._isAMomentObject) {\n              ret = input;\n            }\n          }\n        }\n        else {\n          ret = fallback;\n        }\n        return ret;\n      };\n\n      this.currentDate = _dateParam(this.params.currentDate, moment());\n      this.minDate = _dateParam(this.params.minDate);\n      this.maxDate = _dateParam(this.params.maxDate);\n      this.disableDates = this.params.disableDates.map(function(x) {\n        return moment(x).format('MMMM Do YYYY')\n      });\n      this.selectDate(this.currentDate);\n    },\n    initDate: function (d) {\n      this.currentView = VIEW_STATES.DATE;\n    },\n    initHours: function () {\n      this.currentView = VIEW_STATES.HOUR;\n    },\n    initMinutes: function () {\n      this.currentView = VIEW_STATES.MINUTE;\n    },\n    isAfterMinDate: function (date, checkHour, checkMinute) {\n      var _return = true;\n\n      if (typeof(this.minDate) !== 'undefined' && this.minDate !== null) {\n        var _minDate = moment(this.minDate);\n        var _date = moment(date);\n\n        if (!checkHour && !checkMinute) {\n          _minDate.hour(0);\n          _minDate.minute(0);\n\n          _date.hour(0);\n          _date.minute(0);\n        }\n\n        _minDate.second(0);\n        _date.second(0);\n        _minDate.millisecond(0);\n        _date.millisecond(0);\n\n        if (!checkMinute) {\n          _date.minute(0);\n          _minDate.minute(0);\n\n          _return = (parseInt(_date.format(\"X\")) >= parseInt(_minDate.format(\"X\")));\n        }\n        else {\n          _return = (parseInt(_date.format(\"X\")) >= parseInt(_minDate.format(\"X\")));\n        }\n      }\n\n      return _return;\n    },\n    isBeforeMaxDate: function (date, checkTime, checkMinute) {\n      var _return = true;\n\n      if (typeof(this.maxDate) !== 'undefined' && this.maxDate !== null) {\n        var _maxDate = moment(this.maxDate);\n        var _date = moment(date);\n\n        if (!checkTime && !checkMinute) {\n          _maxDate.hour(0);\n          _maxDate.minute(0);\n\n          _date.hour(0);\n          _date.minute(0);\n        }\n\n        _maxDate.second(0);\n        _date.second(0);\n        _maxDate.millisecond(0);\n        _date.millisecond(0);\n\n        if (!checkMinute) {\n          _date.minute(0);\n          _maxDate.minute(0);\n\n          _return = (parseInt(_date.format(\"X\")) <= parseInt(_maxDate.format(\"X\")));\n        }\n        else {\n          _return = (parseInt(_date.format(\"X\")) <= parseInt(_maxDate.format(\"X\")));\n        }\n      }\n\n      return _return;\n    },\n    isInDisableDates: function (date) {\n      var dut = date.format('MMMM Do YYYY')\n      if(this.disableDates.indexOf(dut) > -1) {\n        return false;\n      }\n      return true;\n    },\n    selectDate: function (date) {\n      if (date) {\n        this.currentDate = moment(date);\n        if (!this.isAfterMinDate(this.currentDate)) {\n          this.currentDate = moment(this.minDate);\n        }\n\n        if (!this.isBeforeMaxDate(this.currentDate)) {\n          this.currentDate = moment(this.maxDate);\n        }\n        this.currentDate.locale(this.params.lang);\n        this.calendarStart = moment(this.currentDate);\n        this.meridien = this.currentDate.hour() >= 12 ? 'PM' : 'AM';\n      }\n    },\n    setName: function () {\n      var text = \"\";\n      var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n\n      for (var i = 0; i < 5; i++) {\n        text += possible.charAt(Math.floor(Math.random() * possible.length));\n      }\n\n      return text;\n    },\n    isPM: function () {\n      return this.meridien === 'PM';\n    },\n    incrementYear: function (amount) {\n      if (amount === 1 && this.isNextYearVisible()) {\n        this.selectDate(this.currentDate.add(amount, 'year'));\n      }\n\n      if (amount === -1 && this.isPreviousYearVisible()) {\n        this.selectDate(this.currentDate.add(amount, 'year'));\n      }\n    },\n    isPreviousMonthVisible: function () {\n      return this.calendarStart && this.isAfterMinDate(moment(this.calendarStart).startOf('month'), false, false);\n    },\n    isNextMonthVisible: function () {\n      return this.calendarStart && this.isBeforeMaxDate(moment(this.calendarStart).endOf('month'), false, false);\n    },\n    isPreviousYearVisible: function () {\n      return this.calendarStart && this.isAfterMinDate(moment(this.calendarStart).startOf('year'), false, false);\n    },\n    isNextYearVisible: function () {\n      return this.calendarStart && this.isBeforeMaxDate(moment(this.calendarStart).endOf('year'), false, false);\n    },\n    isHourAvailable: function (hour) {\n      var _date = moment(this.currentDate);\n      _date.hour(this.convertHours(hour)).minute(0).second(0);\n      return this.isAfterMinDate(_date, true, false) && this.isBeforeMaxDate(_date, true, false);\n    },\n    isMinuteAvailable: function (minute) {\n      var _date = moment(this.currentDate);\n      _date.minute(minute).second(0);\n      return this.isAfterMinDate(_date, true, true) && this.isBeforeMaxDate(_date, true, true);\n    },\n    start: function () {\n      this.currentView = VIEW_STATES.DATE;\n      //this.initDates();\n      if (this.params.date) {\n        this.initDate();\n      } else {\n        if (this.params.time) {\n          this.initHours();\n        }\n      }\n    },\n    today: function () {\n      this.selectDate(Date.now());\n    },\n    ok: function () {\n      switch (this.currentView) {\n        case VIEW_STATES.DATE:\n          if (this.params.time === true) {\n            this.initHours();\n          }\n          else {\n            this.hide(true);\n          }\n          break;\n        case VIEW_STATES.HOUR:\n          this.initMinutes();\n          break;\n        case VIEW_STATES.MINUTE:\n          this.hide(true);\n          break;\n      }\n    },\n    cancel: function () {\n      if (this.params.time) {\n        switch (this.currentView) {\n          case VIEW_STATES.DATE:\n            this.hide();\n            break;\n          case VIEW_STATES.HOUR:\n            if (this.params.date) {\n              this.initDate();\n            }\n            else {\n              this.hide();\n            }\n            break;\n          case VIEW_STATES.MINUTE:\n            this.initHours();\n            break;\n        }\n      }\n      else {\n        this.hide();\n      }\n    },\n    selectMonthBefore: function () {\n      this.calendarStart.subtract(1, 'months');\n    },\n    selectMonthAfter: function () {\n      this.calendarStart.add(1, 'months');\n    },\n    selectYearBefore: function () {\n      this.calendarStart.subtract(1, 'years');\n    },\n    selectYearAfter: function () {\n      this.calendarStart.add(1, 'years');\n    },\n    selectAM: function () {\n      if (this.isHourAvailable(0) || this.isHourAvailable(12)) {\n        if (this.currentDate.hour() >= 12) {\n          this.selectDate(this.currentDate.subtract(12, 'hours'));\n        }\n        if (!this.isHourAvailable(this.currentDate.hour())) {\n          this.selectDate(this.currentDate.hour(this.minDate.hour()));\n        }\n        if (!this.isMinuteAvailable(this.currentDate.minute())) {\n          this.selectDate(this.currentDate.minute(this.minDate.minute()));\n        }\n      }\n    },\n    selectPM: function () {\n      if (this.isHourAvailable(13) || this.isHourAvailable(24)) {\n        if (this.currentDate.hour() < 12) {\n          this.selectDate(this.currentDate.add(12, 'hours'));\n        }\n        if (!this.isHourAvailable(this.currentDate.hour())) {\n          this.selectDate(this.currentDate.hour(this.maxDate.hour()));\n        }\n        if (!this.isMinuteAvailable(this.currentDate.minute())) {\n          this.selectDate(this.currentDate.minute(this.maxDate.minute()));\n        }\n      }\n    },\n    convertHours: function (h) {\n      var _return = h;\n      if ((h < 12) && this.isPM())\n        _return += 12;\n\n      return _return;\n    },\n    hide: function (okBtn) {\n      if (okBtn) {\n        this._dialog.hide(this.currentDate);\n      } else {\n        this._dialog.cancel();\n      }\n    }\n  };\n\n\n  angular.module(moduleName)\n    .directive('mdcDatetimePickerCalendar', [\n      function () {\n\n        var YEAR_MIN = 1920,\n          YEAR_MAX = new Date().getFullYear() + 30,\n          MONTHS_IN_ALL = (YEAR_MAX - YEAR_MIN + 1) * 12,\n          ITEM_HEIGHT = 240,\n          MONTHS = [];\n        for (var i = 0; i < MONTHS_IN_ALL; i++) {\n          MONTHS.push(i);\n        }\n\n        var currentMonthIndex = function (date, low) {\n          low = low ? low : 0;\n          var year = date.year();\n          var month = date.month();\n          return (((year - YEAR_MIN) * 12) + month - 1 ) - low;\n        };\n\n        return {\n          restrict: 'E',\n          scope: {\n            picker: '=',\n            date: '='\n          },\n          bindToController: true,\n          controllerAs: 'cal',\n          controller: ['$scope', function ($scope) {\n            this.$onInit = function () {\n              var calendar = this,\n                picker = this.picker,\n                days = [];\n\n              for (var i = picker.params.weekStart; days.length < 7; i++) {\n                if (i > 6) {\n                  i = 0;\n                }\n                days.push(i.toString());\n              }\n\n              calendar.week = days;\n              if (!picker.maxDate && !picker.minDate) {\n                calendar.months = MONTHS;\n              } else {\n                var low = picker.minDate ? currentMonthIndex(picker.minDate) : 0;\n                var high = picker.maxDate ? (currentMonthIndex(picker.maxDate) + 1) : MONTHS_IN_ALL;\n                calendar.months = MONTHS.slice(low, high);\n              }\n\n\n              calendar.getItemAtIndex = function (index) {\n                var month = ((index + 1) % 12) || 12;\n                var year = YEAR_MIN + Math.floor(index / 12);\n                var monthObj = moment(picker.currentDate)\n                  .year(year)\n                  .month(month);\n                return generateMonthCalendar(monthObj);\n              };\n\n              calendar.topIndex = currentMonthIndex(picker.currentDate) - calendar.months[0];\n\n              $scope.$watch(function () {\n                return picker.currentDate ? picker.currentDate.format('YYYY-MM') : '';\n              }, function (val2, val1) {\n                if (val2 != val1) {\n                  var nDate = moment(val2, 'YYYY-MM');\n                  var low = picker.minDate ? currentMonthIndex(picker.minDate) : 0;\n                  var index = currentMonthIndex(nDate, low);\n                  if (calendar.topIndex != index) {\n                    calendar.topIndex = index;\n                  }\n                }\n              });\n\n              var generateMonthCalendar = function (date) {\n                var month = {};\n                if (date !== null) {\n                  month.name = date.format('MMMM YYYY');\n                  var startOfMonth = moment(date).locale(picker.params.lang).startOf('month')\n                      .hour(date.hour())\n                      .minute(date.minute())\n                    ;\n                  var iNumDay = startOfMonth.format('d');\n                  month.days = [];\n                  for (var i = startOfMonth.date(); i <= startOfMonth.daysInMonth(); i++) {\n                    if (i === startOfMonth.date()) {\n                      var iWeek = calendar.week.indexOf(iNumDay.toString());\n                      if (iWeek > 0) {\n                        for (var x = 0; x < iWeek; x++) {\n                          month.days.push(0);\n                        }\n                      }\n                    }\n                    month.days.push(moment(startOfMonth).locale(picker.params.lang).date(i));\n                  }\n\n                  var daysInAWeek = 7, daysTmp = [], slices = Math.ceil(month.days.length / daysInAWeek);\n                  for (var j = 0; j < slices; j++) {\n                    daysTmp.push(month.days.slice(j * daysInAWeek, (j + 1) * daysInAWeek));\n                  }\n                  month.days = daysTmp;\n                  return month;\n                }\n\n              };\n\n              calendar.toDay = function (i) {\n                return moment(parseInt(i), \"d\")\n                  .locale(picker.params.lang)\n                  .format(\"dd\")\n                  .substring(0, 1);\n              };\n\n              calendar.isInRange = function (date) {\n                return picker.isAfterMinDate(moment(date), false, false)\n                  && picker.isBeforeMaxDate(moment(date), false, false)\n                  && picker.isInDisableDates(moment(date));\n              };\n\n              calendar.selectDate = function (date) {\n                if (date) {\n                  if (calendar.isSelectedDay(date)) {\n                    return picker.ok();\n                  }\n                  picker.selectDate(moment(date).hour(calendar.date.hour()).minute(calendar.date.minute()));\n                }\n              };\n\n              calendar.isSelectedDay = function (m) {\n                return m && calendar.date.date() === m.date() && calendar.date.month() === m.month() && calendar.date.year() === m.year();\n              };\n\n              calendar.isDateOfTheDay = function (m) {\n                var today = calendar.picker.options.showTodaysDate;\n                if (today === null)\n                  return false;\n\n                return m && today.date() === m.date() && today.month() === m.month() && today.year() === m.year();\n              }\n            }\n          }],\n          template: '<md-virtual-repeat-container md-top-index=\"cal.topIndex\" class=\"months\">' +\n          '<div md-virtual-repeat=\"idx in ::cal.months\" md-auto-shrink md-item-size=\"' + ITEM_HEIGHT + '\">' +\n          '     <div mdc-datetime-picker-calendar-month idx=\"idx\"></div>' +\n          '</div>' +\n          '</md-virtual-repeat-container>'\n        };\n      }])\n    .directive('mdcDatetimePickerCalendarMonth', ['$compile',\n      function ($compile) {\n        var buildCalendarContent = function (element, scope) {\n          var tbody = angular.element(element[0].querySelector('tbody'));\n          var calendar = scope.cal, month = scope.month;\n\n          var tbodyHtml = [];\n\n          month.days.forEach(function (weekDays, i) {\n            tbodyHtml.push('<tr>');\n            weekDays.forEach(function (weekDay, j) {\n              tbodyHtml.push('<td>');\n              if (weekDay) {\n                if (calendar.isInRange(weekDay)) {\n                  //build a\n                  var scopeRef = 'month[\\'days\\'][' + i + '][' + j + ']';\n\n                  tbodyHtml.push('<a href=\"#\" mdc-dtp-noclick class=\"dtp-select-day\" ng-class=\"{selected: cal.isSelectedDay(' + scopeRef + '), hilite: cal.isDateOfTheDay(' + scopeRef + ')}\" ng-click=\"cal.selectDate(' + scopeRef + ')\">');\n                  tbodyHtml.push(weekDay.format('D'));\n                  tbodyHtml.push('</a>');\n                  ;\n                } else {\n                  tbodyHtml.push('<span class=\"dtp-select-day\">');\n                  tbodyHtml.push(weekDay.format('D'));\n                  tbodyHtml.push('</span>');\n                }\n              }\n              tbodyHtml.push('</td>');\n            });\n            tbodyHtml.push('</tr>');\n          });\n\n          tbody.html(tbodyHtml.join(''));\n          $compile(tbody)(scope);\n        };\n\n        return {\n          scope: {\n            idx: '='\n          },\n          require: '^mdcDatetimePickerCalendar',\n          restrict: 'AE',\n          template: '<div class=\"dtp-picker-month\">{{month.name}}</div>'\n          + '<table class=\"table dtp-picker-days\">'\n          + '    <thead>'\n          + '    <tr>'\n          + '        <th ng-repeat=\"day in cal.week track by $index\">{{cal.toDay(day)}}</th>'\n          + '    </tr>'\n          + '    </thead>'\n          + '    <tbody>'\n          + '    </tbody>'\n          + '</table>',\n          link: function (scope, element, attrs, calendar) {\n            scope.cal = calendar;\n            scope.month = calendar.getItemAtIndex(parseInt(scope.idx));\n            buildCalendarContent(element, scope);\n            scope.$watch(function () {\n              return scope.idx;\n            }, function (idx, oldIdx) {\n              if (idx != oldIdx) {\n                scope.month = calendar.getItemAtIndex(parseInt(scope.idx));\n                buildCalendarContent(element, scope);\n              }\n            });\n          }\n        };\n      }\n    ])\n  ;\n\n  angular.module(moduleName)\n    .directive('mdcDtpNoclick', function () {\n      return {\n        link: function (scope, el) {\n          el.on('click', function (e) {\n            e.preventDefault();\n          });\n        }\n      };\n    });\n  angular.module(moduleName)\n    .directive('mdcDatetimePickerClock', [\n      function () {\n\n        var template = '<div class=\"dtp-picker-clock\"><span ng-if=\"!points || points.length < 1\">&nbsp;</span>'\n          + '<div ng-repeat=\"point in points\" class=\"dtp-picker-time\" ng-style=\"point.style\">'\n          + '   <a href=\"#\" mdc-dtp-noclick ng-class=\"{selected: point.value===currentValue}\" class=\"dtp-select-hour\" ng-click=\"setTime(point.value)\" ng-if=\"pointAvailable(point)\">{{point.display}}</a>'\n          + '   <a href=\"#\" mdc-dtp-noclick class=\"disabled dtp-select-hour\" ng-if=\"!pointAvailable(point)\">{{point.display}}</a>'\n          + '</div>'\n          + '<div class=\"dtp-hand dtp-hour-hand\"></div>'\n          + '<div class=\"dtp-hand dtp-minute-hand\"></div>'\n          + '<div class=\"dtp-clock-center\"></div>'\n          + '</div>';\n\n        return {\n          restrict: 'E',\n          template: template,\n          link: function (scope, element, attrs) {\n            var minuteMode = attrs.mode === 'minutes';\n            var picker = scope.picker;\n            //banking on the fact that there will only be one at a time\n            var componentRoot = document.querySelector('md-dialog.dtp');\n            var exec = function () {\n              var clock = angular.element(element[0].querySelector('.dtp-picker-clock')),\n                pickerEl = angular.element(componentRoot.querySelector('.dtp-picker'));\n\n              var w = componentRoot.querySelector('.dtp-content').offsetWidth;\n              var pl = parseInt(css(pickerEl, 'paddingLeft').replace('px', '')) || 0;\n              var pr = parseInt(css(pickerEl, 'paddingRight').replace('px', '')) || 0;\n              var ml = parseInt(css(clock, 'marginLeft').replace('px', '')) || 0;\n              var mr = parseInt(css(clock, 'marginRight').replace('px', '')) || 0;\n              //set width\n              var clockWidth = (w - (ml + mr + pl + pr));\n              clock.css('width', (clockWidth) + 'px');\n\n              var pL = parseInt(css(pickerEl, 'paddingLeft').replace('px', '')) || 0;\n              var pT = parseInt(css(pickerEl, 'paddingTop').replace('px', '')) || 0;\n              var mL = parseInt(css(clock, 'marginLeft').replace('px', '')) || 0;\n              var mT = parseInt(css(clock, 'marginTop').replace('px', '')) || 0;\n\n              var r = (clockWidth / 2);\n              var j = r / 1.2; //???\n\n              var points = [];\n\n              for (var h = 0; h < 12; ++h) {\n                var x = j * Math.sin(Math.PI * 2 * (h / 12));\n                var y = j * Math.cos(Math.PI * 2 * (h / 12));\n                var left = (r + x + pL / 2) - (pL + mL);\n                var top = (r - y - mT / 2) - (pT + mT);\n\n                var hour = {\n                  left: left,\n                  top: top,\n                  value: (minuteMode ? (h * 5) : h), //5 for minute 60/12\n                  style: {'margin-left': left + 'px', 'margin-top': top + 'px'}\n                };\n\n                if (minuteMode) {\n                  hour.display = hour.value < 10 ? ('0' + hour.value) : hour.value;\n                } else {\n\n                  if (picker.params.shortTime) {\n                    hour.display = (h === 0) ? 12 : h;\n                  } else {\n                    hour.display = picker.isPM() ? h + 12 : h;\n                  }\n                }\n\n\n                points.push(hour);\n              }\n\n              scope.points = points;\n              setCurrentValue();\n              clock.css('height', clockWidth + 'px');\n              //picker.initHands(true);\n\n              var clockCenter = element[0].querySelector('.dtp-clock-center');\n              var centerWidth = (clockCenter.offsetWidth / 2) || 7.5,\n                centerHeight = (clockCenter.offsetHeight / 2) || 7.5;\n              var _hL = r / 1.8;\n              var _mL = r / 1.5;\n\n              angular.element(element[0].querySelector('.dtp-hour-hand')).css({\n                left: r + (mL * 1.5) + 'px',\n                height: _hL + 'px',\n                marginTop: (r - _hL - pL) + 'px'\n              }).addClass(!minuteMode ? 'on' : '');\n\n              angular.element(element[0].querySelector('.dtp-minute-hand')).css\n              ({\n                left: r + (mL * 1.5) + 'px',\n                height: _mL + 'px',\n                marginTop: (r - _mL - pL) + 'px'\n              }).addClass(minuteMode ? 'on' : '');\n\n              angular.element(clockCenter).css({\n                left: (r + pL + mL - centerWidth) + 'px',\n                marginTop: (r - (mL / 2)) - centerHeight + 'px'\n              });\n              animateHands();\n            };\n\n            var animateHands = function () {\n              var _date = picker.currentNearest5Minute();\n              var h = _date.hour();\n              var m = _date.minute();\n\n              rotateElement(angular.element(element[0].querySelector('.dtp-hour-hand')), (360 / 12) * h);\n              var mdg = ((360 / 60) * (5 * Math.round(m / 5)));\n              rotateElement(angular.element(element[0].querySelector('.dtp-minute-hand')), mdg);\n            };\n\n            var rotateElement = function (el, deg) {\n              angular.element(el).css({\n                WebkitTransform: 'rotate(' + deg + 'deg)',\n                '-moz-transform': 'rotate(' + deg + 'deg)',\n                '-ms-transform': 'rotate(' + deg + 'deg)',\n                'transform': 'rotate(' + deg + 'deg)'\n              });\n            };\n\n\n            var setCurrentValue = function () {\n              var date = picker.currentNearest5Minute();\n              scope.currentValue = minuteMode ? date.minute() : (date.hour() % 12);\n            };\n\n            scope.$watch(function () {\n              var tmp = picker.currentNearest5Minute();\n              return tmp ? tmp.format('HH:mm') : '';\n            }, function (newVal) {\n              setCurrentValue();\n              animateHands();\n            });\n\n\n            var setDisplayPoints = function (isPM, points) {\n              for (var i = 0; i < points.length; i++) {\n                points[i].display = i;\n                if (isPM) {\n                  points[i].display += 12;\n                }\n              }\n              return points;\n            };\n\n            if (!picker.params.shortTime) {\n              scope.$watch('picker.meridien', function () {\n                if (!minuteMode) {\n                  if (scope.points) {\n                    var points = setDisplayPoints(picker.isPM(), angular.copy(scope.points));\n                    scope.points = points;\n                  }\n                }\n              });\n            }\n\n\n            scope.setTime = function (val) {\n              if (val === scope.currentValue) {\n                picker.ok();\n              }\n\n              if (!minuteMode) {\n                picker.currentDate.hour(picker.isPM() ? (val + 12) : val);\n              } else {\n                picker.currentDate.minute(val);\n              }\n              picker.currentDate.second(0)\n            };\n\n            scope.pointAvailable = function (point) {\n              return minuteMode ? picker.isMinuteAvailable(point.value) : picker.isHourAvailable(point.value);\n            };\n\n            var unWatcher = scope.$watch(function () {\n              return element[0].querySelectorAll('div').length;\n            }, function () {\n              exec();\n              unWatcher();\n            });\n          }\n        }\n      }]);\n\n})();\n"]}